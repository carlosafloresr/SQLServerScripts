CREATE PROC dbo.zDP_GTM20002VF_1 (@aaBudgetID_RS int, @YEAR1_RS smallint, @aaFiscalPeriod_RS smallint, @aaBudgetID_RE int, @YEAR1_RE smallint, @aaFiscalPeriod_RE smallint) AS  set nocount on IF @aaBudgetID_RS IS NULL BEGIN SELECT TOP 25  aaBudgetID, aaBudget, YEAR1, aaFiscalPeriod, aaTrxDim, aaTrxDimCode, STRTDATE, ENDDATE, Balance, PERIODDT, DEX_ROW_ID FROM .GTM20002V ORDER BY aaBudgetID ASC, YEAR1 ASC, aaFiscalPeriod ASC END ELSE IF @aaBudgetID_RS = @aaBudgetID_RE BEGIN SELECT TOP 25  aaBudgetID, aaBudget, YEAR1, aaFiscalPeriod, aaTrxDim, aaTrxDimCode, STRTDATE, ENDDATE, Balance, PERIODDT, DEX_ROW_ID FROM .GTM20002V WHERE aaBudgetID = @aaBudgetID_RS AND YEAR1 BETWEEN @YEAR1_RS AND @YEAR1_RE AND aaFiscalPeriod BETWEEN @aaFiscalPeriod_RS AND @aaFiscalPeriod_RE ORDER BY aaBudgetID ASC, YEAR1 ASC, aaFiscalPeriod ASC END ELSE BEGIN SELECT TOP 25  aaBudgetID, aaBudget, YEAR1, aaFiscalPeriod, aaTrxDim, aaTrxDimCode, STRTDATE, ENDDATE, Balance, PERIODDT, DEX_ROW_ID FROM .GTM20002V WHERE aaBudgetID BETWEEN @aaBudgetID_RS AND @aaBudgetID_RE AND YEAR1 BETWEEN @YEAR1_RS AND @YEAR1_RE AND aaFiscalPeriod BETWEEN @aaFiscalPeriod_RS AND @aaFiscalPeriod_RE ORDER BY aaBudgetID ASC, YEAR1 ASC, aaFiscalPeriod ASC END set nocount off    

--select * from GTM20002V

